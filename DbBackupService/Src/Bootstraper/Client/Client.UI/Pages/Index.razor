@page "/"

@inject NavigationManager NavManager

<PageTitle>OctoBackup - News</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large" Class="pa-4 mt-6">
    <!-- Nagłówek -->
    <MudText Typo="Typo.h4" Color="Color.Primary" Class="mb-4">Witaj w OctoBackup</MudText>
    <MudText Typo="Typo.body1" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")" Class="mb-6">
        Tutaj znajdziesz najnowsze informacje, aktualizacje i linki do dokumentacji systemu.
    </MudText>

    <AuthorizeView>
        <NotAuthorized>
            <!-- Sekcja Login/Signup -->
            <MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-2 mt-16">Dołącz do nas i korzystaj z możliwości systemu!</MudText>
            <MudGrid GutterSize="3" Class="mb-16">
                <MudItem xs="12" sm="6">
                    <MudCard Class="pa-4 mud-elevation-2 rounded-2xl hover-elevation-6">
                        <MudCardContent>
                            <MudText Typo="Typo.subtitle1" Color="Color.Primary">Nie masz jeszcze konta?   Dołącz do nas!</MudText>
                            <MudText Typo="Typo.body2" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")">Stwórz nowe konto i ciesz się możliwościa korzystania z OctoBackup!</MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Href="/account/register" Variant="Variant.Filled" Color="Color.Primary">
                                Zarejestruj się
                            </MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudCard Class="pa-4 mud-elevation-2 rounded-2xl hover-elevation-6">
                        <MudCardContent>
                            <MudText Typo="Typo.subtitle1" Color="Color.Primary">Posiadasz już konto w systemie?</MudText>
                            <MudText Typo="Typo.body2" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")">
                                Zaloguj się do swojego konta w OctoBackup!
                            </MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Href="/account/login" Variant="Variant.Filled" Color="Color.Primary">
                                Zaloguj się
                            </MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </NotAuthorized>
    </AuthorizeView>
    
    <!-- Sekcja Nowości -->
    <MudText Typo="Typo.h6" Color="Color.Primary" Class="mb-2">Nowości</MudText>
    <MudPaper Class="pa-4 mb-6 mud-elevation-2 rounded-2xl">
        <MudList Dense="true" T="string">
            <MudListItem>
                <MudText>Dodano obsługę wielu baz danych w jednym backupie.</MudText>
                <MudText Typo="Typo.caption" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")">2025-08-25</MudText>
            </MudListItem>
            <MudListItem>
                <MudText>Usprawniono autoryzację użytkowników i system powiadomień.</MudText>
                <MudText Typo="Typo.caption" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")">2025-08-20</MudText>
            </MudListItem>
        </MudList>
    </MudPaper>

    <!-- Sekcja Dokumentacja -->
    <MudText Typo="Typo.h6" Color="Color.Primary" Class="mb-2">Dokumentacja i zasoby</MudText>
    <MudGrid GutterSize="3">
        <MudItem xs="12" sm="6" md="4">
            <MudCard Class="pa-4 mud-elevation-2 rounded-2xl hover-elevation-6">
                <MudCardContent>
                    <MudText Typo="Typo.subtitle1" Color="Color.Primary">API Documentation</MudText>
                    <MudText Typo="Typo.body2" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")" Class="mb-2">
                        Pełna dokumentacja API do integracji z systemem OctoBackup.
                    </MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Href="@_apiUrl" Target="_blank" Variant="Variant.Filled" Color="Color.Primary">
                        Otwórz dokumentację
                    </MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="4">
            <MudCard Class="pa-4 mud-elevation-2 rounded-2xl hover-elevation-6">
                <MudCardContent>
                    <MudText Typo="Typo.subtitle1" Color="Color.Primary">Wiki / Instrukcje</MudText>
                    <MudText Typo="Typo.body2" Style="@($"color: {DefaultLayout.ThemePalette.TextSecondary}")" Class="mb-2">
                        Szybki dostęp do poradników i instrukcji użytkowania.
                    </MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Href="https://your-wiki-link.com" Target="_blank" Variant="Variant.Filled" Color="Color.Primary">
                        Otwórz Wiki
                    </MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private string _apiUrl = "";

    protected override void OnInitialized()
    {
        _apiUrl = $"{NavManager.BaseUri}scalar/v1";
    }
}
