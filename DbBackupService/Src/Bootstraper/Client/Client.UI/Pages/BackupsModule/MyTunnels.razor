@page "/tunnels"

@using Modules.Backup.Core.Entities.DbContext

<PageTitle>Tunnels</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="pa-6">
    <MudText Typo="Typo.h4" Color="Color.Primary" Class="mb-6">Moje tunele</MudText>

    <MudPaper Class="pa-4 mud-elevation-2 rounded-2xl">
        <MudStack Row="true" JustifyContent="SpaceBetween" Class="mb-4">
            <MudText Typo="Typo.h6">Lista tuneli</MudText>
            <MudButton Variant="Variant.Filled" Color="Color.Success" StartIcon="@Icons.Material.Filled.Add">Dodaj tunel</MudButton>
        </MudStack>

        <MudTable Items="@_tunnels" Hover="true" Dense="true">
            <HeaderContent>
                <MudTh>Host</MudTh>
                <MudTh>Użytkownik</MudTh>
                <MudTh>Akcje</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.ServerHost</MudTd>
                <MudTd>@context.Username</MudTd>
                <MudTd>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Warning" />
                    <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudPaper>
</MudContainer>

@code {
    private List<DbServerTunnel> _tunnels = new()
    {
        new() { Id = Guid.NewGuid(), ServerHost="ssh.myserver.com", Username="root", Password="***" }
    };
}