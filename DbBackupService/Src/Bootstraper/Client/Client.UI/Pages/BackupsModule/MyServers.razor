@page "/servers"

@using Modules.Backup.Core.Entities.DbContext

<PageTitle>Servers</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="pa-6">
    <MudText Typo="Typo.h4" Color="Color.Primary" Class="mb-6">Moje serwery</MudText>

    <MudPaper Class="pa-4 mud-elevation-2 rounded-2xl">
        <MudStack Row="true" JustifyContent="SpaceBetween" Class="mb-4">
            <MudText Typo="Typo.h6">Lista serwerów</MudText>
            <MudButton Variant="Variant.Filled" Color="Color.Success" StartIcon="@Icons.Material.Filled.Add">Dodaj serwer</MudButton>
        </MudStack>

        <MudTable Items="@_servers" Hover="true" Dense="true">
            <HeaderContent>
                <MudTh>Nazwa</MudTh>
                <MudTh>Host</MudTh>
                <MudTh>Port</MudTh>
                <MudTh>Baza</MudTh>
                <MudTh>Typ</MudTh>
                <MudTh>Akcje</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.ConnectionName</MudTd>
                <MudTd>@context.ServerHost</MudTd>
                <MudTd>@context.ServerPort</MudTd>
                <MudTd>@context.DbName</MudTd>
                <MudTd>@context.DbType</MudTd>
                <MudTd>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Warning" />
                    <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudPaper>
</MudContainer>

@code {
    private List<DbServerConnection> _servers = new()
    {
        new() { Id = Guid.NewGuid(), ConnectionName = "Main DB", ServerHost="localhost", ServerPort=3306, DbName="octo", DbUser="root", DbPasswd="***" }
    };
}